//-------| src/dot.c |-------//
#include "dot.h"

static unsigned short dot_hexadecimal[16][5] = {
    {0x1F, 0x28, 0x48, 0x28, 0x1F}, // A
    {0x4F, 0x49, 0x49, 0x49, 0x79}, // 2
    {0x49, 0x49, 0x49, 0x49, 0x7F}, // 3
    {0x78, 0x08, 0x08, 0x7F, 0x08}, // 4
    {0x79, 0x49, 0x49, 0x49, 0x4F}, // 5
    {0x7F, 0x49, 0x49, 0x49, 0x4F}, // 6
    {0x40, 0x40, 0x40, 0x40, 0x7F}, // 7
    {0x7F, 0x49, 0x49, 0x49, 0x7F}, // 8
    {0x78, 0x48, 0x48, 0x48, 0x7F}, // 9
    {0x46, 0x41, 0x7F, 0x40, 0x40}, // J
    {0x38, 0x44, 0x4C, 0x3C, 0x02}, // Q
    {0x7F, 0x40, 0x1C, 0x22, 0x41}, // K

};


static short * dot[MAX_DOT];

void init_dot(short * address[]) {
	int i;
	for( i=0; i<MAX_DOT; i++ ) {
	        dot[i] = address[i];
	}
}

void dot_clear() {
	int i;
	for(i=0; i<MAX_DOT; i++){
	    *dot[i] = 0;
	}
	usleep(0); // for Ximulator
}

void dot_write(int number) {
	int i;
	for(i=0; i<MAX_DOT; i++){
		*dot[i] = dot_hexadecimal[( number - 1) ][i];
	}
	usleep(0); // for Ximulator
}

